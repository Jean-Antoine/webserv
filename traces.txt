== Info:   Trying 127.0.0.1:9999...
== Info: Connected to localhost (127.0.0.1) port 9999 (#0)
=> Send header, 202 bytes (0xca)
0000: 50 4f 53 54 20 2f 75 70 6c 6f 61 64 73 2f 6e 65 POST /uploads/ne
0010: 77 2e 70 68 70 20 48 54 54 50 2f 31 2e 31 0d 0a w.php HTTP/1.1..
0020: 48 6f 73 74 3a 20 6c 6f 63 61 6c 68 6f 73 74 3a Host: localhost:
0030: 39 39 39 39 0d 0a 55 73 65 72 2d 41 67 65 6e 74 9999..User-Agent
0040: 3a 20 63 75 72 6c 2f 37 2e 38 31 2e 30 0d 0a 41 : curl/7.81.0..A
0050: 63 63 65 70 74 3a 20 2a 2f 2a 0d 0a 43 6f 6e 74 ccept: */*..Cont
0060: 65 6e 74 2d 4c 65 6e 67 74 68 3a 20 31 39 33 38 ent-Length: 1938
0070: 0d 0a 43 6f 6e 74 65 6e 74 2d 54 79 70 65 3a 20 ..Content-Type: 
0080: 6d 75 6c 74 69 70 61 72 74 2f 66 6f 72 6d 2d 64 multipart/form-d
0090: 61 74 61 3b 20 62 6f 75 6e 64 61 72 79 3d 2d 2d ata; boundary=--
00a0: 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d ----------------
00b0: 2d 2d 2d 2d 2d 2d 63 33 32 66 36 61 36 33 30 37 ------c32f6a6307
00c0: 36 32 65 38 33 65 0d 0a 0d 0a                   62e83e....
=> Send data, 1938 bytes (0x792)
0000: 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d ----------------
0010: 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 63 33 32 66 36 61 ----------c32f6a
0020: 36 33 30 37 36 32 65 38 33 65 0d 0a 43 6f 6e 74 630762e83e..Cont
0030: 65 6e 74 2d 44 69 73 70 6f 73 69 74 69 6f 6e 3a ent-Disposition:
0040: 20 66 6f 72 6d 2d 64 61 74 61 3b 20 6e 61 6d 65  form-data; name
0050: 3d 22 66 69 6c 65 22 3b 20 66 69 6c 65 6e 61 6d ="file"; filenam
0060: 65 3d 22 63 67 69 2d 67 65 74 2e 70 68 70 22 0d e="cgi-get.php".
0070: 0a 43 6f 6e 74 65 6e 74 2d 54 79 70 65 3a 20 61 .Content-Type: a
0080: 70 70 6c 69 63 61 74 69 6f 6e 2f 6f 63 74 65 74 pplication/octet
0090: 2d 73 74 72 65 61 6d 0d 0a 0d 0a 3c 3f 70 68 70 -stream....<?php
00a0: 0a 2f 2f 20 43 68 65 6d 69 6e 20 76 65 72 73 20 .// Chemin vers 
00b0: 6c 65 20 64 6f 73 73 69 65 72 20 63 6f 6e 74 65 le dossier conte
00c0: 6e 61 6e 74 20 6c 65 73 20 66 69 63 68 69 65 72 nant les fichier
00d0: 73 0a 24 64 61 74 61 44 69 72 20 3d 20 5f 5f 44 s.$dataDir = __D
00e0: 49 52 5f 5f 20 2e 20 27 2f 64 61 74 61 27 3b 0a IR__ . '/data';.
00f0: 0a 2f 2f 20 56 c3 a9 72 69 66 69 65 20 71 75 65 .// V..rifie que
0100: 20 6c 65 20 64 6f 73 73 69 65 72 20 65 78 69 73  le dossier exis
0110: 74 65 0a 69 66 20 28 21 69 73 5f 64 69 72 28 24 te.if (!is_dir($
0120: 64 61 74 61 44 69 72 29 29 20 7b 0a 20 20 20 20 dataDir)) {.    
0130: 64 69 65 28 22 45 72 72 6f 72 3a 20 54 68 65 20 die("Error: The 
0140: 64 61 74 61 20 64 69 72 65 63 74 6f 72 79 20 64 data directory d
0150: 6f 65 73 20 6e 6f 74 20 65 78 69 73 74 22 29 3b oes not exist");
0160: 0a 7d 0a 0a 2f 2f 20 52 c3 a9 63 75 70 c3 a8 72 .}..// R..cup..r
0170: 65 20 74 6f 75 73 20 6c 65 73 20 66 69 63 68 69 e tous les fichi
0180: 65 72 73 20 2e 74 78 74 20 64 61 6e 73 20 6c 65 ers .txt dans le
0190: 20 64 6f 73 73 69 65 72 0a 24 64 61 74 61 46 69  dossier.$dataFi
01a0: 6c 65 73 20 3d 20 67 6c 6f 62 28 24 64 61 74 61 les = glob($data
01b0: 44 69 72 20 2e 20 27 2f 64 61 74 61 5f 2a 2e 74 Dir . '/data_*.t
01c0: 78 74 27 29 3b 0a 0a 2f 2f 20 46 6f 6e 63 74 69 xt');..// Foncti
01d0: 6f 6e 20 70 6f 75 72 20 6c 69 72 65 20 65 74 20 on pour lire et 
01e0: 66 6f 72 6d 61 74 65 72 20 6c 65 20 63 6f 6e 74 formater le cont
01f0: 65 6e 75 20 64 27 75 6e 20 66 69 63 68 69 65 72 enu d'un fichier
0200: 0a 66 75 6e 63 74 69 6f 6e 20 72 65 61 64 46 69 .function readFi
0210: 6c 65 43 6f 6e 74 65 6e 74 28 24 66 69 6c 65 50 leContent($fileP
0220: 61 74 68 29 20 7b 0a 20 20 20 20 24 63 6f 6e 74 ath) {.    $cont
0230: 65 6e 74 20 3d 20 66 69 6c 65 5f 67 65 74 5f 63 ent = file_get_c
0240: 6f 6e 74 65 6e 74 73 28 24 66 69 6c 65 50 61 74 ontents($filePat
0250: 68 29 3b 0a 20 20 20 20 24 6c 69 6e 65 73 20 3d h);.    $lines =
0260: 20 65 78 70 6c 6f 64 65 28 22 5c 6e 22 2c 20 74  explode("\n", t
0270: 72 69 6d 28 24 63 6f 6e 74 65 6e 74 29 29 3b 0a rim($content));.
0280: 20 20 20 20 0a 20 20 20 20 24 64 61 74 61 20 3d     .    $data =
0290: 20 5b 5d 3b 0a 20 20 20 20 66 6f 72 65 61 63 68  [];.    foreach
02a0: 20 28 24 6c 69 6e 65 73 20 61 73 20 24 6c 69 6e  ($lines as $lin
02b0: 65 29 20 7b 0a 20 20 20 20 20 20 20 20 6c 69 73 e) {.        lis
02c0: 74 28 24 6b 65 79 2c 20 24 76 61 6c 75 65 29 20 t($key, $value) 
02d0: 3d 20 65 78 70 6c 6f 64 65 28 22 3a 22 2c 20 24 = explode(":", $
02e0: 6c 69 6e 65 2c 20 32 29 3b 0a 20 20 20 20 20 20 line, 2);.      
02f0: 20 20 24 64 61 74 61 5b 74 72 69 6d 28 24 6b 65   $data[trim($ke
0300: 79 29 5d 20 3d 20 74 72 69 6d 28 24 76 61 6c 75 y)] = trim($valu
0310: 65 29 3b 0a 20 20 20 20 7d 0a 20 20 20 20 72 65 e);.    }.    re
0320: 74 75 72 6e 20 24 64 61 74 61 3b 0a 7d 0a 3f 3e turn $data;.}.?>
0330: 0a 3c 21 44 4f 43 54 59 50 45 20 68 74 6d 6c 3e .<!DOCTYPE html>
0340: 0a 3c 68 74 6d 6c 20 6c 61 6e 67 3d 22 65 6e 22 .<html lang="en"
0350: 3e 0a 3c 68 65 61 64 3e 0a 20 20 20 20 3c 6d 65 >.<head>.    <me
0360: 74 61 20 63 68 61 72 73 65 74 3d 22 55 54 46 2d ta charset="UTF-
0370: 38 22 3e 0a 20 20 20 20 3c 6d 65 74 61 20 6e 61 8">.    <meta na
0380: 6d 65 3d 22 76 69 65 77 70 6f 72 74 22 20 63 6f me="viewport" co
0390: 6e 74 65 6e 74 3d 22 77 69 64 74 68 3d 64 65 76 ntent="width=dev
03a0: 69 63 65 2d 77 69 64 74 68 2c 20 69 6e 69 74 69 ice-width, initi
03b0: 61 6c 2d 73 63 61 6c 65 3d 31 2e 30 22 3e 0a 20 al-scale=1.0">. 
03c0: 20 20 20 3c 74 69 74 6c 65 3e 4d 65 73 73 61 67    <title>Messag
03d0: 65 20 6c 69 73 74 69 6e 67 3c 2f 74 69 74 6c 65 e listing</title
03e0: 3e 0a 09 3c 6c 69 6e 6b 20 72 65 6c 3d 22 73 74 >..<link rel="st
03f0: 79 6c 65 73 68 65 65 74 22 20 68 72 65 66 3d 22 ylesheet" href="
0400: 2f 73 74 79 6c 65 73 2f 6c 69 73 74 69 6e 67 5f /styles/listing_
0410: 64 61 74 61 2e 63 73 73 22 3e 0a 3c 2f 68 65 61 data.css">.</hea
0420: 64 3e 0a 3c 62 6f 64 79 3e 0a 20 20 20 20 3c 68 d>.<body>.    <h
0430: 31 3e 4c 69 73 74 20 6f 66 20 6d 65 73 73 61 67 1>List of messag
0440: 65 73 3c 2f 68 31 3e 0a 0a 20 20 20 20 3c 3f 70 es</h1>..    <?p
0450: 68 70 20 69 66 20 28 65 6d 70 74 79 28 24 64 61 hp if (empty($da
0460: 74 61 46 69 6c 65 73 29 29 3a 20 3f 3e 0a 20 20 taFiles)): ?>.  
0470: 20 20 20 20 20 20 3c 70 3e 4e 6f 20 6d 65 73 73       <p>No mess
0480: 61 67 65 73 20 66 6f 75 6e 64 3c 2f 70 3e 0a 20 ages found</p>. 
0490: 20 20 20 3c 3f 70 68 70 20 65 6c 73 65 3a 20 3f    <?php else: ?
04a0: 3e 0a 20 20 20 20 20 20 20 20 3c 64 69 76 20 63 >.        <div c
04b0: 6c 61 73 73 3d 22 66 69 6c 65 2d 6c 69 73 74 22 lass="file-list"
04c0: 3e 0a 20 20 20 20 20 20 20 20 20 20 20 20 3c 3f >.            <?
04d0: 70 68 70 20 66 6f 72 65 61 63 68 20 28 24 64 61 php foreach ($da
04e0: 74 61 46 69 6c 65 73 20 61 73 20 24 66 69 6c 65 taFiles as $file
04f0: 29 3a 20 3f 3e 0a 20 20 20 20 20 20 20 20 20 20 ): ?>.          
0500: 20 20 20 20 20 20 3c 3f 70 68 70 20 24 64 61 74       <?php $dat
0510: 61 20 3d 20 72 65 61 64 46 69 6c 65 43 6f 6e 74 a = readFileCont
0520: 65 6e 74 28 24 66 69 6c 65 29 3b 20 3f 3e 0a 20 ent($file); ?>. 
0530: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 3c                <
0540: 64 69 76 20 63 6c 61 73 73 3d 22 66 69 6c 65 2d div class="file-
0550: 65 6e 74 72 79 22 3e 0a 20 20 20 20 20 20 20 20 entry">.        
0560: 20 20 20 20 20 20 20 20 20 20 20 20 3c 68 32 3e             <h2>
0570: 4d 65 73 73 61 67 65 20 73 74 6f 72 65 64 20 69 Message stored i
0580: 6e 20 3c 3f 3d 20 62 61 73 65 6e 61 6d 65 28 24 n <?= basename($
0590: 66 69 6c 65 29 20 3f 3e 3c 2f 68 32 3e 0a 20 20 file) ?></h2>.  
05a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20                 
05b0: 20 20 3c 70 3e 3c 73 74 72 6f 6e 67 3e 4e 61 6d   <p><strong>Nam
05c0: 65 3a 3c 2f 73 74 72 6f 6e 67 3e 20 3c 3f 3d 20 e:</strong> <?= 
05d0: 68 74 6d 6c 73 70 65 63 69 61 6c 63 68 61 72 73 htmlspecialchars
05e0: 5f 64 65 63 6f 64 65 28 24 64 61 74 61 5b 27 4e _decode($data['N
05f0: 61 6d 65 27 5d 20 3f 3f 20 27 55 6e 6b 6e 6f 77 ame'] ?? 'Unknow
0600: 6e 27 29 20 3f 3e 3c 2f 70 3e 0a 20 20 20 20 20 n') ?></p>.     
0610: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 3c                <
0620: 70 3e 3c 73 74 72 6f 6e 67 3e 45 6d 61 69 6c 3a p><strong>Email:
0630: 3c 2f 73 74 72 6f 6e 67 3e 20 3c 3f 3d 20 68 74 </strong> <?= ht
0640: 6d 6c 73 70 65 63 69 61 6c 63 68 61 72 73 5f 64 mlspecialchars_d
0650: 65 63 6f 64 65 28 24 64 61 74 61 5b 27 45 6d 61 ecode($data['Ema
0660: 69 6c 27 5d 20 3f 3f 20 27 55 6e 6b 6e 6f 77 6e il'] ?? 'Unknown
0670: 27 29 20 3f 3e 3c 2f 70 3e 0a 20 20 20 20 20 20 ') ?></p>.      
0680: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 3c 70               <p
0690: 3e 3c 73 74 72 6f 6e 67 3e 4d 65 73 73 61 67 65 ><strong>Message
06a0: 3a 3c 2f 73 74 72 6f 6e 67 3e 20 3c 3f 3d 20 6e :</strong> <?= n
06b0: 6c 32 62 72 28 68 74 6d 6c 73 70 65 63 69 61 6c l2br(htmlspecial
06c0: 63 68 61 72 73 5f 64 65 63 6f 64 65 28 24 64 61 chars_decode($da
06d0: 74 61 5b 27 4d 65 73 73 61 67 65 27 5d 20 3f 3f ta['Message'] ??
06e0: 20 27 4e 6f 20 6d 65 73 73 61 67 65 27 29 29 20  'No message')) 
06f0: 3f 3e 3c 2f 70 3e 0a 20 20 20 20 20 20 20 20 20 ?></p>.         
0700: 20 20 20 20 20 20 20 3c 2f 64 69 76 3e 0a 20 20        </div>.  
0710: 20 20 20 20 20 20 20 20 20 20 3c 3f 70 68 70 20           <?php 
0720: 65 6e 64 66 6f 72 65 61 63 68 3b 20 3f 3e 0a 20 endforeach; ?>. 
0730: 20 20 20 20 20 20 20 3c 2f 64 69 76 3e 0a 20 20        </div>.  
0740: 20 20 3c 3f 70 68 70 20 65 6e 64 69 66 3b 20 3f   <?php endif; ?
0750: 3e 0a 3c 2f 62 6f 64 79 3e 0a 3c 2f 68 74 6d 6c >.</body>.</html
0760: 3e 0a 0d 0a 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d >...------------
0770: 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 2d 63 33 --------------c3
0780: 32 66 36 61 36 33 30 37 36 32 65 38 33 65 2d 2d 2f6a630762e83e--
0790: 0d 0a                                           ..
== Info: We are completely uploaded and fine
== Info: Mark bundle as not supporting multiuse
<= Recv header, 24 bytes (0x18)
0000: 48 54 54 50 2f 31 2e 31 20 34 30 33 20 46 6f 72 HTTP/1.1 403 For
0010: 62 69 64 64 65 6e 0d 0a                         bidden..
<= Recv header, 24 bytes (0x18)
0000: 43 6f 6e 6e 65 63 74 69 6f 6e 3a 20 6b 65 65 70 Connection: keep
0010: 2d 61 6c 69 76 65 0d 0a                         -alive..
<= Recv header, 21 bytes (0x15)
0000: 43 6f 6e 74 65 6e 74 2d 4c 65 6e 67 74 68 3a 20 Content-Length: 
0010: 31 36 38 0d 0a                                  168..
<= Recv header, 40 bytes (0x28)
0000: 43 6f 6e 74 65 6e 74 2d 54 79 70 65 3a 20 74 65 Content-Type: te
0010: 78 74 2f 68 74 6d 6c 3b 20 63 68 61 72 73 65 74 xt/html; charset
0020: 3d 55 54 46 2d 38 0d 0a                         =UTF-8..
<= Recv header, 37 bytes (0x25)
0000: 44 61 74 65 3a 20 46 72 69 2c 20 32 34 20 4a 61 Date: Fri, 24 Ja
0010: 6e 20 32 30 32 35 20 31 35 3a 33 34 3a 30 35 20 n 2025 15:34:05 
0020: 47 4d 54 0d 0a                                  GMT..
<= Recv header, 2 bytes (0x2)
0000: 0d 0a                                           ..
<= Recv data, 168 bytes (0xa8)
0000: 3c 68 74 6d 6c 3e 0a 3c 68 65 61 64 3e 3c 74 69 <html>.<head><ti
0010: 74 6c 65 3e 34 30 33 20 46 6f 72 62 69 64 64 65 tle>403 Forbidde
0020: 6e 3c 2f 74 69 74 6c 65 3e 3c 2f 68 65 61 64 3e n</title></head>
0030: 0a 3c 62 6f 64 79 3e 0a 3c 68 31 3e 34 30 33 20 .<body>.<h1>403 
0040: 46 6f 72 62 69 64 64 65 6e 3c 2f 68 31 3e 0a 3c Forbidden</h1>.<
0050: 70 3e 59 6f 75 20 64 6f 6e 27 74 20 68 61 76 65 p>You don't have
0060: 20 70 65 72 6d 69 73 73 69 6f 6e 20 74 6f 20 61  permission to a
0070: 63 63 65 73 73 20 74 68 69 73 20 72 65 73 6f 75 ccess this resou
0080: 72 63 65 20 6f 6e 20 74 68 69 73 20 73 65 72 76 rce on this serv
0090: 65 72 2e 3c 2f 70 3e 0a 3c 2f 62 6f 64 79 3e 0a er.</p>.</body>.
00a0: 3c 2f 68 74 6d 6c 3e 0a                         </html>.
== Info: Connection #0 to host localhost left intact
